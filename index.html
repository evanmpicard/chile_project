<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Chile Graffiti Project</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>


    .mapboxgl-popup {
        max-width: 200px;
    }
 </style> -->

<div id="map"></div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoibWFwZXhwZXJ0IiwiYSI6ImNrZWltZXBmYzFoMHYyc3M1czl6cDEwYzMifQ.5YHvRcXoN_f_BYQBTmvH4w';
	//-70.64, -33.44
    var center_map = [-70.64, -33.44];
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapexpert/ckeilc7ad1v7h19tmzu80uss5',
        center: center_map,
        zoom: 15
    });

    // create the popup
    // var popup = new mapboxgl.Popup({ offset: 25 }).setText(
    //     'Welcome to the Chile Graffiti Project.'
    // );

    // // create DOM element for the marker
    // var el = document.createElement('div');
    // el.id = 'marker';

    // create the marker
    // new mapboxgl.Marker(el)
    //     .setLngLat(center_map)
    //     // .setPopup(popup) // sets a popup on this marker
    //     .addTo(map);



	map.on('click', function(e) {
	  var features = map.queryRenderedFeatures(e.point, {
	    layers: ['image-list'] // replace this with the name of the layer
	  });

	  if (!features.length) {
	    return;
	  }

	  var feature = features[0];

	  var popup = new mapboxgl.Popup({ offset: [0, -15] })
	    .setLngLat(feature.geometry.coordinates)
	    // .setHTML('<h3>' + feature.properties.title + '</h3>')
	    .setHTML('<img src="' + feature.properties.filename + '"style="width:100px;height:100px;"'>)
	    .addTo(map);
	});
//https://drive.google.com/file/d/1di1m2PFnMy1u_O_6-FZqj-wEq3jPzAuP/view?usp=sharing
</script>

</body>
</html>